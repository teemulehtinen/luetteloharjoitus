{"version":3,"sources":["services/persons.js","components/Notification.js","components/ControlledInput.js","components/Filter.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["itemUrl","id","axios","get","then","response","data","person","post","put","delete","Notification","message","b","nStyle","color","padding","borderWidth","borderStyle","borderRadius","backgroundColor","borderColor","startsWith","style","slice","ControlledInput","value","setValue","onChange","event","target","Filter","PersonForm","name","setName","number","setNumber","addPerson","onSubmit","type","Person","onDelete","onClick","Persons","persons","map","p","key","App","useState","setMessage","setPersons","filterName","setFilterName","newName","setNewName","newNumber","setNewNumber","timedMessage","seconds","setTimeout","useEffect","personService","loaded","catch","error","updatePerson","window","confirm","updated","showPersons","filter","toLowerCase","indexOf","preventDefault","find","undefined","created","concat","finally","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1300833b.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\nconst itemUrl = (id) => `${baseUrl}/${id}`\n\nconst getAll = () => axios\n    .get(baseUrl)\n    .then(response => response.data)\n\nconst create = person => axios\n    .post(baseUrl, person)\n    .then(response => response.data)\n\nconst update = person => axios\n    .put(itemUrl(person.id), person)\n    .then(response => response.data)\n\nconst remove = id => axios\n    .delete(itemUrl(id))\n    .then(response => response.data)\n\nexport default { getAll, create, update, remove }\n","import React from 'react'\n\nconst Notification = ({message}) => {\n    if (message === null) {\n        return null\n    }\n    let b = 0\n    const nStyle = {\n        color: 'green',\n        padding: '0.5em',\n        borderWidth: 'thick',\n        borderStyle: 'solid',\n        borderRadius: '0.3em',\n        backgroundColor: 'lightgrey',\n        borderColor: 'green'\n    }\n    if (message.startsWith('Error: ')) {\n        b = 7\n        nStyle.color = 'red'\n        nStyle.borderColor = 'red'\n    }\n    return (\n        <div style={nStyle}>\n            {message.slice(b)}\n        </div>\n    )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst ControlledInput = ({value, setValue}) => {\n\n    const handleChange = (event) => setValue(event.target.value)\n\n    return (\n        <input value={value} onChange={handleChange} />\n    )\n}\n\nexport default ControlledInput\n","import React from 'react'\nimport ControlledInput from './ControlledInput'\n\nconst Filter = ({value, setValue}) => (\n    <p>\n        filter shown with <ControlledInput value={value} setValue={setValue} />\n    </p>\n)\n\nexport default Filter\n","import React from 'react'\nimport ControlledInput from './ControlledInput'\n\nconst PersonForm = ({name, setName, number, setNumber, addPerson}) => (\n    <form onSubmit={addPerson}>\n    <div>\n      name: <ControlledInput value={name} setValue={setName} />\n    </div>\n    <div>\n      number: <ControlledInput value={number} setValue={setNumber} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({person, onDelete}) => (\n    <div>\n        {person.name}{' '}\n        {person.number}{' '}\n        <button onClick={onDelete} value={person.id}>delete</button>\n    </div>\n)\n\nconst Persons = ({persons, onDelete}) => (\n    <div>\n        {persons.map(p => <Person key={p.name} person={p} onDelete={onDelete} />)}\n    </div>\n)\n\nexport default Persons\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [ message, setMessage ] = useState(null)\n  const [ persons, setPersons] = useState([])\n  const [ filterName, setFilterName ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n\n  const timedMessage = (message, seconds) => {\n    setMessage(message)\n    setTimeout(() => setMessage(null), (seconds || 5) * 1000)\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(loaded => setPersons(loaded))\n      .catch(error => timedMessage('Error: Failed to load persons'))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const person = persons.find(p => p.name === newName)\n    if (person !== undefined) {\n      updatePerson(person)\n    } else {\n      personService\n        .create({\n          name: newName,\n          number: newNumber\n        })\n        .then(created => {\n          setPersons(persons.concat(created))\n          timedMessage(`Added ${created.name}`)\n        })\n        .catch(error => timedMessage('Error: Failed to create a new person'))\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  const updatePerson = (person) => {\n    if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\n      personService\n        .update({...person, number: newNumber})\n        .then(updated => {\n          setPersons(persons.map(p => p.id === updated.id ? updated : p))\n          timedMessage(`Updated ${updated.name}`)\n        })\n        .catch(error => timedMessage(`Error: Information of ${person.name} has already been removed from server`))\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  const deletePerson = (event) => {\n    const id = +event.target.value\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(person.id)\n        .then(() => timedMessage(`Deleted ${person.name}`))\n        .catch(error => timedMessage(`Error: Information of ${person.name} has already been removed from server`))\n        .finally(() => setPersons(persons.filter(p => p.id !== person.id)))\n    }\n  }\n\n  const showPersons = filterName === '' ? persons : persons.filter(\n    p => p.name.toLowerCase().indexOf(filterName.toLowerCase()) >= 0\n  )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={filterName} setValue={setFilterName} />\n      <h2>add a new</h2>\n      <PersonForm name={newName} setName={setNewName} number={newNumber} setNumber={setNewNumber} addPerson={addPerson} />\n      <h2>Numbers</h2>\n      <Persons persons={showPersons} onDelete={deletePerson} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}